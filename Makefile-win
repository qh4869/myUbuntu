OBJECTS = main.o
FLAGS = -Wall -g
CC = g++

main.exe: $(OBJECTS)
	$(CC) -o $@ $^

# 以下两行可以不写，make发现该依赖直接运行如下两句，但是不能自定义命令和参数，也不能判断.h依赖
%.o: %.c
	$(CC) $(FLAGS) -c $^

clean:
	del *.o
	del main.exe
.PHONY:clean


# $@:表示目标文件的名称，包含扩展名
# $^:表示所有的依赖文件，以空格隔开，不重复
# $<:表示第一个依赖文件的名称
# $+:表示所有的依赖文件，空格隔开，可以重复
# $*:表示目标文件的名称，不包含扩展名
# $?:依赖项中，所有比目标文件新的依赖文件
# %.o: %.c，所有的.c编为.o